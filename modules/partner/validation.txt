{
  $jsonSchema: {
    bsonType: 'object',
    required: [
      'user_id',
      'type',
      'partner_number',
      'name',
      'email',
      'phone',
      'created_at'
    ],
    properties: {
      user_id: {
        bsonType: 'objectId',
        description: 'Reference to users._id'
      },
      type: {
        bsonType: 'array',
        description: 'Partner types',
        minItems: 1,
        uniqueItems: true,
        items: {
          bsonType: 'string',
          'enum': [
            'supplier',
            'buyer'
          ],
          description: 'Partner type'
        }
      },
      partner_number: {
        bsonType: 'string'
      },
      business_entity: {
        bsonType: 'string',
        'enum': [
          'cv',
          'pt',
          'koperasi',
          'perorangan',
          'lainnya'
        ]
      },
      name: {
        bsonType: 'string'
      },
      email: {
        bsonType: 'string',
        pattern: '^\\S+@\\S+\\.\\S+$'
      },
      phone: {
        bsonType: 'string'
      },
      company_phone: {
        bsonType: 'string'
      },
      address_intl: {
        bsonType: 'object',
        properties: {
          street: {
            bsonType: 'string'
          },
          city: {
            bsonType: 'string'
          },
          state: {
            bsonType: 'string'
          }
        }
      },
      address: {
        bsonType: 'object',
        properties: {
          address_line1: {
            bsonType: 'string'
          },
          address_line2: {
            bsonType: 'string'
          },
          kelurahan: {
            bsonType: 'object',
            properties: {
              id: {
                bsonType: 'string'
              },
              name: {
                bsonType: 'string'
              }
            }
          },
          kecamatan: {
            bsonType: 'object',
            properties: {
              id: {
                bsonType: 'string'
              },
              name: {
                bsonType: 'string'
              }
            }
          },
          kabupaten: {
            bsonType: 'object',
            properties: {
              id: {
                bsonType: 'string'
              },
              name: {
                bsonType: 'string'
              }
            }
          },
          provinsi: {
            bsonType: 'object',
            properties: {
              id: {
                bsonType: 'string'
              },
              name: {
                bsonType: 'string'
              }
            }
          },
          postal_code: {
            bsonType: 'string'
          }
        }
      },
      country: {
        bsonType: 'object',
        properties: {
          iso2: {
            bsonType: 'string'
          },
          name: {
            bsonType: 'string'
          }
        }
      },
      created_by: {
        bsonType: 'string'
      },
      created_at: {
        bsonType: 'date'
      },
      updated_at: {
        bsonType: 'date'
      }
    }
  }
}